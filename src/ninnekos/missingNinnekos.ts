import { GraphQLClient } from 'graphql-request';
import query from '../query/index';
import  '../db';
import ninnekos from '.';

(async () => {
    const endpoint = 'https://api.ninneko.com/graphql';

    const graphClient = new GraphQLClient(endpoint, { headers: {} });
    const ids = [
        47, 58, 92, 185, 217, 288, 348, 441, 461, 542, 556, 609, 611, 701, 761,
        903, 914, 925, 944, 951, 1141, 1142, 1174, 1320, 1352, 1486, 1487, 1560,
        1903, 1929, 2114, 2171, 2242, 2283, 2303, 2394, 2483, 2535, 2542, 2552,
        2623, 2676, 2721, 2777, 2863, 2996, 3096, 3137, 3156, 3241, 3364, 3419,
        3428, 3506, 3561, 3649, 3652, 3675, 3681, 3740, 3783, 3786, 4013, 4021,
        4060, 4097, 4099, 4107, 4209, 4249, 4351, 4472, 4476, 4496, 4546, 4668,
        4806, 4910, 4960, 5155, 5344, 5363, 5386, 5538, 5668, 5690, 5756, 5829,
        5909, 5916, 5951, 5963, 6060, 6145, 6150, 6166, 6477, 6481, 6548, 6589,
        6693, 6702, 6767, 6926, 7028, 7042, 7103, 7143, 7150, 7224, 7297, 7431,
        7435, 7698, 7823, 7848, 7874, 7886, 7948, 7994, 8038, 8092, 8151, 8158,
        8219, 8222, 8265, 8312, 8390, 8496, 8541, 8548, 8557, 8579, 8589, 8711,
        8712, 8778, 8827, 8845, 8849, 8871, 8900, 8902, 8960, 9040, 9124, 9178,
        9203, 9259, 9273, 9275, 9288, 9322, 9412, 9418, 9477, 9559, 9562, 9715,
        9740, 9748, 9751, 9877, 9944, 9972, 9986, 10008, 10053, 10064, 10125,
        10139, 10160, 10168, 10235, 10302, 10373, 10393, 10430, 10565, 10581,
        10624, 10700, 10711, 10712, 10718, 10728, 10733, 10798, 10822, 10848,
        10864, 10912, 10965, 11061, 11076, 11078, 11119, 11171, 11172, 11228,
        11243, 11298, 11352, 11379, 11420, 11516, 11627, 11640, 11648, 11677,
        11690, 11693, 11726, 11741, 11766, 11792, 11898, 11958, 11971, 11978,
        11991, 12007, 12026, 12031, 12035, 12077, 12092, 12101, 12105, 12115,
        12119, 12121, 12138, 12191, 12210, 12220, 12258, 12275, 12297, 12307,
        12318, 12390, 12395, 12420, 12471, 12489, 12513, 12528, 12543, 12558,
        12563, 12588, 12593, 12643, 12702, 12703, 12715, 12754, 12780, 12782,
        12840, 12869, 12870, 12884, 12885, 12901, 12929, 12964, 13008, 13098,
        13101, 13106, 13115, 13152, 13185, 13211, 13267, 13297, 13307, 13346,
        13353, 13357, 13360, 13432, 13482, 13485, 13499, 13510, 13529, 13535,
        13651, 13683, 13685, 13694, 13769, 13781, 13810, 13851, 13857, 13907,
        13984, 13985, 13993, 14053, 14064, 14075, 14116, 14140, 14180, 14196,
        14255, 14320, 14346, 14368, 14384, 14402, 14404, 14424, 14448, 14455,
        14491, 14556, 14573, 14588, 14590, 14596, 14608, 14609, 14692, 14697,
        14749, 14771, 14779, 14782, 14822, 14831, 14859, 14879, 14897, 14949,
        15005, 15006, 15014, 15046, 15061, 15075, 15098, 15124, 15125, 15128,
        15134, 15136, 15149, 15180, 15189, 15192, 15193, 15246, 15291, 15297,
        15305, 15349, 15364, 15365, 15380, 15410, 15437, 15439, 15444, 15448,
        15449, 15481, 15499, 15535, 15585, 15597, 15625, 15654, 15656, 15666,
        15674, 15706, 15722, 15727, 15728, 15758, 15762, 15789, 15797, 15884,
        15988, 15989, 16016, 16105, 16106, 16121, 16153, 16159, 16166, 16179,
        16181, 16184, 16187, 16193, 16196, 16261, 16279, 16284, 16311, 16326,
        16343, 16384, 16393, 16431, 16446, 16447, 16457, 16477, 16483, 16493,
        16563, 16571, 16579, 16603, 16606, 16610, 16630, 16633, 16655, 16656,
        16728, 16776, 16810, 16869, 16882, 16896, 16901, 16910, 16934, 16935,
        16996, 17049, 17069, 17073, 17111, 17112, 17119, 17142, 17151, 17172,
        17193, 17265, 17283, 17344, 17366, 17369, 17372, 17427, 17456, 17477,
        17497, 17510, 17526, 17532, 17543, 17569, 17592, 17632, 17649, 17676,
        17703, 17707, 17742, 17746, 17803, 17849, 17861, 17862, 17874, 17875,
        17900, 17902, 17928, 17940, 17943, 17951, 17964, 17970, 18011, 18014,
        18016, 18034, 18053, 18077, 18085, 18098, 18136, 18137, 18142, 18172,
        18176, 18181, 18190, 18191, 18193, 18221, 18252, 18253, 18289, 18311,
        18345, 18378, 18406, 18409, 18412, 18413, 18456, 18470, 18493, 18535,
        18574, 18589, 18612, 18615, 18626, 18634, 18644, 18646, 18648, 18661,
        18671, 18675, 18681, 18783, 18808, 18814, 18816, 18822, 18826, 18829,
        18830, 18844, 18869, 18899, 18914, 18924, 18932, 18976, 19064, 19066,
        19110, 19125, 19158, 19173, 19192, 19207, 19251, 19294, 19335, 19341,
        19346, 19356, 19378, 19403, 19456, 19458, 19499, 19500, 19530, 19584,
        19589, 19595, 19605, 19615, 19618, 19628, 19631, 19632, 19655, 19677,
        19681, 19717, 19721, 19724, 19744, 19782, 19807, 19819, 19820, 19828,
        19830, 19879, 19929, 19958, 19974, 19982, 19986, 20004, 20014, 20017,
        20024, 20025, 20028, 20048, 20064, 20065, 20107, 20121, 20124, 20127,
        20129, 20132, 20134, 20135, 20136, 20137, 20155, 20200, 20208, 20284,
        20292, 20324, 20325, 20337, 20388, 20414, 20438, 20459, 20468, 20475,
        20486, 20506, 20520, 20521, 20556, 20566, 20584, 20599, 20609, 20611,
        20616, 20630, 20652, 20655, 20672, 20688, 20718, 20755, 20796, 20797,
        20798, 20800, 20801, 20807, 20812, 20815, 20830, 20831, 20840, 20843,
        20847, 20865, 20905, 20924, 20941, 20946, 20964, 20972, 20973, 20974,
        20984, 20992, 21001, 21002, 21011, 21015, 21045, 21050, 21071, 21075,
        21076, 21091, 21144, 21151, 21182, 21201, 21202, 21205, 21208, 21218,
        21240, 21243, 21247, 21254, 21258, 21351, 21363, 21375, 21382, 21407,
        21409, 21411, 21419, 21467, 21502, 21505, 21506, 21525, 21532, 21543,
        21567, 21568, 21584, 21625, 21637, 21653, 21674, 21686, 21696, 21718,
        21735, 21761, 21777, 21781, 21803, 21806, 21814, 21817, 21818, 21832,
        21840, 21848, 21863, 21867, 21886, 21888, 21914, 21916, 21957, 21973,
        21996, 22036, 22039, 22049, 22057, 22067, 22068, 22089, 22095, 22100,
        22111, 22125, 22139, 22156, 22165, 22177, 22196, 22198, 22202, 22210,
        22212, 22224, 22230, 22263, 22308, 22310, 22320, 22321, 22323, 22327,
        22329, 22335, 22337, 22342, 22344, 22354, 22376, 22379, 22391, 22399,
        22400, 22405, 22418, 22441, 22449, 22465, 22467, 22470, 22489, 22494,
        22502, 22506, 22511, 22513, 22519, 22525, 22541, 22543, 22545, 22552,
        22553, 22582, 22584, 22592, 22606, 22615, 22617, 22646, 22648, 22659,
        22662, 22670, 22671, 22679, 22681, 22689, 22698, 22702, 22703, 22707,
        22718, 22728, 22731, 22739, 22741, 22742, 22747, 22748, 22750, 22755,
        22758, 22760, 22790, 22793, 22801, 22815, 22819, 22820, 22826, 22829,
        22835, 22848, 22849, 22852, 22853, 22854, 22855, 22856, 22857, 22858,
        22859, 22860, 22862, 22863, 22864, 22890, 22895, 22900, 22901, 22902,
        22903, 22921, 22922, 22928, 22929, 22937, 22946, 22954, 22983, 22985,
        22986, 22989, 22991, 23000, 23009, 23018, 23020, 23024, 23035, 23048,
        23049, 23052, 23066, 23068, 23069, 23077, 23080, 23085, 23087, 23088,
        23093, 23097, 23102, 23113, 23115, 23120, 23126, 23127, 23132, 23139,
        23150, 23155, 23158, 23169, 23171, 23176, 23177, 23178, 23182, 23184,
        23188, 23189, 23191, 23206, 23218, 23220, 23222, 23226, 23230, 23231,
        23240, 23246, 23249, 23250, 23268, 23274, 23279, 23280, 23299, 23315,
        23329, 23333, 23349, 23350, 23351, 23358, 23369, 23371, 23384, 23385,
        23386, 23393, 23419, 23422, 23425, 23433, 23434, 23437, 23441, 23444,
        23445, 23449, 23451, 23455, 23458, 23464, 23465, 23471, 23473, 23474,
        23475, 23476, 23477, 23478, 23482, 23483, 23490, 23494, 23503, 23507,
        23517, 23520, 23521, 23524, 23538, 23539, 23552, 23619, 23621, 23637,
        23647, 23650, 23662, 23669, 23683, 23699, 23704, 23713, 23714, 23720,
        23722, 23723, 23738, 23741, 23767, 23768, 23789, 23809, 23812, 23824,
        23836, 23843, 23892, 23901, 23912, 23937, 23945, 23967, 24031, 24043,
        24046, 24050, 24054, 24075, 24079, 24088, 24101, 24113, 24126, 24157,
        24192, 24206, 24210, 24243, 24262, 24267, 24278, 24279, 24280, 24290,
        24307, 24314, 24327, 24343, 24390, 24401, 24407, 24412, 24417, 24420,
        24433, 24439, 24443, 24449, 24452, 24457, 24460, 24462, 24493, 24494,
        24496, 24501, 24509, 24512, 24517, 24518, 24519, 24521, 24522, 24523,
        24527, 24532, 24537, 24542, 24571, 24580, 24585, 24588, 24603, 24616,
        24638, 24647, 24653, 24660, 24661, 24691, 24694, 24695, 24715, 24724,
        24731, 24733, 24734, 24742, 24748, 24765, 24769, 24779, 24814, 24844,
        24852, 24855, 24857, 24865, 24868, 24870, 24874, 24878, 24879, 24889,
        24904, 24910, 24912, 24922, 24926, 24928, 24929, 24931, 24933, 24942,
        24949, 24953, 24975, 24981, 24982, 25007, 25008, 25012, 25013, 25016,
        25019, 25028, 25050, 25069, 25088, 25135, 25137, 25155, 25157, 25164,
        25176, 25186, 25191, 25192, 25193, 25205, 25206, 25213, 25217, 25226,
        25229, 25232, 25244, 25245, 25246, 25263, 25264, 25272, 25277, 25290,
        25291, 25293, 25312, 25313, 25318, 25320, 25322, 25324, 25327, 25329,
        25330, 25331, 25333, 25334, 25337, 25350, 25363, 25364, 25365, 25366,
        25367, 25368, 25372, 25374, 25395, 25399, 25405, 25407, 25415, 25419,
        25422, 25435, 25438, 25443, 25444, 25445, 25457, 25462, 25465, 25467,
        25469, 25470, 25477, 25488, 25503, 25512, 25514, 25515, 25519, 25522,
        25537, 25541, 25542, 25547, 25550, 25566, 25567, 25573, 25576, 25577,
        25578, 25579, 25580, 25582, 25589, 25591, 25600, 25624, 25633, 25635,
        25637, 25638, 25641, 25646, 25647, 25649, 25652, 25653, 25666, 25673,
        25676, 25685, 25692, 25693, 25695, 25702, 25703, 25715, 25719, 25722,
        25723, 25729, 25736, 25738, 25743, 25745, 25749, 25756, 25759, 25762,
        25769, 25771, 25774, 25775, 25778, 25782, 25790, 25809, 25813, 25814,
        25815, 25816, 25817, 25818, 25819, 25821, 25824, 25828, 25829, 25831,
        25832, 25833, 25848, 25851, 25854, 25855, 25856, 25857, 25858, 25859,
        25860, 25861, 25862, 25863, 25864, 25865, 25866, 25867, 25868, 25869,
        25874, 25875, 25881, 25882, 25883, 25885, 25887, 25888, 25889, 25890,
        25893, 25904, 25905, 25906, 25909, 25910, 25916, 25917, 25918, 25919,
        25924, 25934, 25940, 25949, 25952, 25953, 25954, 25955, 25956, 25957,
        25959, 25967, 25970, 25971, 25975, 25981, 25985, 25986, 25988, 25991,
        25993, 25999, 26000, 26006, 26007, 26008, 26009, 26011, 26013, 26014,
        26015, 26017, 26019, 26020, 26023, 26024, 26025, 26027, 26038, 26040,
        26041, 26043, 26047, 26049, 26050, 26051, 26053, 26054, 26055, 26058,
        26061, 26062, 26067, 26069, 26074, 26076, 26078, 26079, 26080, 26083,
        26084, 26085, 26087, 26088, 26089, 26090, 26091, 26094, 26095, 26096,
        26097, 26098, 26100, 26101, 26102, 26103, 26104, 26108, 26110, 26111,
        26114, 26115, 26117, 26118, 26119, 26120, 26121, 26122, 26123, 26129,
        26130, 26132, 26134, 26135, 26136, 26138, 26140, 26141, 26142, 26143,
        26144, 26145, 26147, 26148, 26150, 26151, 26152, 26153, 26154, 26157,
        26162, 26172, 26175, 26176, 26179, 26181, 26182, 26183, 26184, 26185,
        26186, 26187, 26188, 26191, 26193, 26194, 26203, 26204, 26205, 26206,
        26208, 26209, 26210, 26211, 26212, 26213, 26214, 26215, 26216, 26221,
        26222, 26224, 26225, 26228,
    ];

    try {
        console.log('Started refreshing ninnekos on DB.');

        for (const id of ids) {
            const data = await graphClient.request(query.pet, { id });
            console.log(`${data.pet.id} - ${data.pet.name}`);
            await ninnekos.insertDB(
                data.pet,
                graphClient,
                null,
                null,
                null,
                null
            );
        }

        console.log('Successfully refreshed ninnekos on DB.');
    } catch (error) {
        console.error(error);
    }
})();
